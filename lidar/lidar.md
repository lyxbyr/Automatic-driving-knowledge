# 点云的数据滤波
为了加快计算速度，减少噪声干扰，保留点云的有用信息，需要对点云进行滤波

## 直通滤波
```
ｐcl::PassThrough<pcl::PointXYZ> pass
```
根据点云的坐标位置进行滤波

## 体素滤波
```
pcl::VoxelGrid<pcl::PointXYZ>
```
体素滤波将三维空间划分一个立体网格
思想是设置为一个边长的立方体，然后统计每个体素内的点云，判断该体素内的个数是否达到预定的阈值，达到的话，该体素就输出一个目标点

- 适应范围：该方法适应于平面结构上

第二种方法是统计该体素内的点并求均值，均值点即为目标点，该方法可以将稠密点云进行压缩，同时能保持物体的整体形状

该方法需要对三维空间进行体素划分，同时没有点的体素也需要进行编号，当点云物体尺寸较大，体素边长较小时，体素的个数等于物体在空间所占的体积除以单个体素的体积

- 情形：当体素过多时会导致滤波失败
-　解决方法: 将原物体进行分割，或者增加体素的边长

- 适应范围: 该方法适应于带曲面的结构上

## 半径滤波
```
pcl::RadiusOutlinerRemoval<pcl::PointXYZ> outrem
```
半径滤波通过给定搜索半径d,设置该点在半径为ｄ的球体内的邻近点阈值，如果在给定搜索半径ｄ的球体内，邻近点数目超过设置的阈值，则该点保留反之舍弃

- 该方法可以去除点云中的一些离散点


# 三维空间坐标系转换

三维空间的齐次坐标为４维，从一个坐标系转到另一坐标系涉及到旋转和平移，转换矩阵为4X4，左上角３x３是旋转矩阵，第４列的前三个元素为平移，相对应于ｘ方向的平移，y方向的平移，ｚ方向的平移

- 转换顺序为先旋转后平移
- 旋转矩阵由欧拉角决定
- 定义绕X轴的旋转角为翻滚角roll
- 定义绕Y轴的旋转角为俯仰角pitch
- 定义绕Z轴的旋转角为偏航角yaw

在定义欧拉角时，用右手准则定义欧拉角的正负，右手握拳，坐标系穿过手心，大拇指指向坐标轴的正方向，则四指指向即为欧拉角的正方向，反之为反方向

记绕X轴的roll的旋转矩阵为Rx,绕Y轴的pitch的旋转矩阵为Ry，绕Ｚ轴的yaw的旋转矩阵为Rz,
- 一般情况下，旋转次序为先绕X轴->Y轴->Z轴,则总的旋转矩阵为
```
Ｒ = Rz * Ry * Rx // 先旋转的先右乘，后旋转的先左乘
```
- 旋转的顺序不同对应的总的旋转矩阵也不同



